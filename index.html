<!-- =========================
     GUIA DO ESTUDANTE – JORNADA
     Versão FINAL estável
     ========================= -->
<!DOCTYPE html>
<html lang="pt-br" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guia do Estudante | Jornada ENEM</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

<style>
body{font-family:'Plus Jakarta Sans',sans-serif;background:#020617;color:#e5e7eb}
.glass{background:rgba(15,23,42,.85);backdrop-filter:blur(18px)}
.card{transition:.3s}
.card:hover{transform:translateY(-6px)}
</style>
</head>

<body>

<!-- ================= NAV ================= -->
<nav class="fixed top-0 w-full z-50 glass border-b border-white/10">
<div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
<div class="font-black text-xl italic text-white">JORNADA</div>
<button id="btn-chat" class="bg-rose-600 px-5 py-2 rounded-full text-xs font-bold">Mentor IA</button>
</div>
<div class="h-1 bg-slate-800">
<div id="global-progress-line" class="h-full bg-gradient-to-r from-rose-500 to-orange-400 w-0 transition-all"></div>
</div>
</nav>

<!-- ================= HERO ================= -->
<section class="min-h-screen flex items-center justify-center text-center px-6">
<div class="max-w-4xl">
<h1 class="text-6xl font-black leading-tight mb-6">
SUA JORNADA<br>
<span class="text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-orange-400">
RUMO AO ENEM
</span>
</h1>
<p class="text-slate-300 mb-10">
Plataforma completa, moderna e conectada para sua aprovação.
</p>
<a href="#catalogo" class="bg-rose-600 px-8 py-4 rounded-xl font-bold">
Começar agora
</a>
</div>
</section>

<!-- ================= CATÁLOGO ================= -->
<main id="catalogo" class="max-w-7xl mx-auto px-6 py-24 space-y-24"></main>

<!-- ================= MODAL EPISÓDIO ================= -->
<div id="episode-modal" class="fixed inset-0 hidden z-50 bg-black/90 backdrop-blur">
<div class="max-w-4xl mx-auto mt-20 bg-slate-900 rounded-2xl p-8 relative">
<button onclick="closeModal()" class="absolute top-4 right-4 text-white">
<i class="fas fa-times"></i>
</button>
<h2 id="modal-title" class="text-3xl font-black mb-4"></h2>
<div id="modal-body" class="text-slate-300 leading-relaxed"></div>

<div class="mt-6 flex gap-4">
<button id="btn-concluir" class="bg-green-600 px-5 py-2 rounded-lg text-xs font-bold">
Concluir
</button>
<button id="btn-fav" class="bg-rose-600 px-5 py-2 rounded-lg text-xs font-bold">
Favoritar
</button>
</div>
</div>
</div>

<!-- ================= CHAT ================= -->
<div id="chat" class="fixed bottom-4 right-4 w-80 h-[420px] bg-slate-900 rounded-2xl shadow-2xl hidden flex-col">
<div class="bg-rose-600 p-4 font-bold text-sm flex justify-between">
Mentor IA
<button onclick="toggleChat()">↓</button>
</div>
<div id="chat-msgs" class="flex-1 p-4 space-y-3 overflow-y-auto text-sm"></div>
<form id="chat-form" class="p-3 flex gap-2">
<input id="chat-input" class="flex-1 bg-slate-800 rounded px-3 text-sm">
<button class="bg-rose-600 px-4 rounded text-sm">→</button>
</form>
</div>

<!-- ================= SCRIPT ================= -->
<script>
const AppState={
progress:JSON.parse(localStorage.getItem("progress"))||[],
favs:JSON.parse(localStorage.getItem("favs"))||[],
current:null
};

const CATALOG=[
{id:"t1",title:"T1 • Sistema ENEM",episodes:[
{id:"1-1",title:"Como funciona o TRI",content:"O ENEM avalia coerência, não soma."},
{id:"1-2",title:"SISU, ProUni e FIES",content:"Cada programa tem um objetivo específico."}
]},
{id:"t2",title:"T2 • Como Estudar",episodes:[
{id:"2-1",title:"Estudo ativo",content:"Aprender fazendo questões."},
{id:"2-2",title:"Pomodoro",content:"25 minutos de foco total."}
]}
];

function renderCatalog(){
const el=document.getElementById("catalogo");
el.innerHTML=CATALOG.map(s=>`
<section>
<h2 class="text-4xl font-black mb-6">${s.title}</h2>
<div class="grid md:grid-cols-2 gap-6">
${s.episodes.map(e=>`
<div class="card bg-slate-900 p-6 rounded-xl cursor-pointer"
onclick="openEpisode('${s.id}','${e.id}')">
<h3 class="text-xl font-bold">${e.title}</h3>
</div>`).join("")}
</div>
</section>
`).join("");
updateProgress();
}

function openEpisode(sid,eid){
const s=CATALOG.find(x=>x.id===sid);
const e=s.episodes.find(x=>x.id===eid);
AppState.current=e;
document.getElementById("modal-title").innerText=e.title;
document.getElementById("modal-body").innerText=e.content;
document.getElementById("episode-modal").classList.remove("hidden");
}

function closeModal(){
document.getElementById("episode-modal").classList.add("hidden");
}

document.getElementById("btn-concluir").onclick=()=>{
if(!AppState.progress.includes(AppState.current.id)){
AppState.progress.push(AppState.current.id);
localStorage.setItem("progress",JSON.stringify(AppState.progress));
updateProgress();
}
};

document.getElementById("btn-fav").onclick=()=>{
if(!AppState.favs.includes(AppState.current.id)){
AppState.favs.push(AppState.current.id);
localStorage.setItem("favs",JSON.stringify(AppState.favs));
}
};

function updateProgress(){
const total=CATALOG.reduce((a,s)=>a+s.episodes.length,0);
const pct=Math.round((AppState.progress.length/total)*100);
document.getElementById("global-progress-line").style.width=pct+"%";
}

function toggleChat(){
document.getElementById("chat").classList.toggle("hidden");
}
document.getElementById("btn-chat").onclick=toggleChat;

document.getElementById("chat-form").onsubmit=e=>{
e.preventDefault();
const input=document.getElementById("chat-input");
const box=document.getElementById("chat-msgs");
box.innerHTML+=`<div class="text-right">${input.value}</div>`;
box.innerHTML+=`<div class="text-left text-rose-400">Resposta simulada da IA.</div>`;
input.value="";
box.scrollTop=box.scrollHeight;
};

renderCatalog();
</script>

</body>
</html>
